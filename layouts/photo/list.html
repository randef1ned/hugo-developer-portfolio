{{ define "main" }}
{{ partial "page-title.html" . }}
{{ "<!-- Photography -->" | safeHTML }}
<!-- about -->

<section class="uk-margin-large-bottom">
  <div class="uk-container">
    {{ if .Site.Data.photo.photos.enabled }}
      <div class="uk-position-relative uk-visible-toggle uk-light" tabindex="-1" uk-slider="clsActivated: uk-transition-active; center: true; autoplay: true; autoplay-interval: 5000;">
        <ul class="uk-slider-items uk-grid">
          {{ range .Site.Data.photo.photos.item }}
            <li class="uk-width-3-4">
              <div class="uk-panel">
                <picture>
                  {{ debug.Dump .image }}
                  {{ $image_ext := (path.Ext .image) }}
                  {{ $is_jpg := eq $image_ext ".jpg" }}
                  {{ $is_png := eq $image_ext ".png" }}
                  {{ $ext := replace $image_ext "." "" 1 }}
                  {{ if or ($is_jpg) ($is_png) }}
                    {{ $avif:= replace .image (path.Ext .image) ".avif" }}
                    {{ $webp:= replace .image (path.Ext .image) ".webp" }}
                    {{ if $is_jpg }}
                      <source srcset="{{ $avif | absURL }}" type="image/avif" />
                    {{ end }}
                    <source srcset="{{ $webp | absURL }}" type="image/webp" />
                    <source srcset="{{ .image | absURL }}" type="image/{{ $ext }}" />
                  {{ end }}
                  <img class="contain publications medium-zoom-image" src="{{ .image | absURL }}" id="zoom-margin" loading="lazy" decoding="async">
                </picture>
                <div class="uk-overlay uk-overlay-primary uk-position-bottom uk-text-center uk-transition-slide-bottom">
                  <h3 class="uk-margin-remove">{{ .date }}</h3>
                  <p class="uk-margin-remove">{{ .description }}</p>
                </div>
              </div>
            </li>
          {{ end }}
        </ul>
      </div>
      <a class="uk-position-center-left uk-position-small uk-hidden-hover" uk-slidenav-previous uk-slider-item="previous"></a>
      <a class="uk-position-center-right uk-position-small uk-hidden-hover" uk-slidenav-next uk-slider-item="next"></a>
    {{ end }}
  </div>
</section>


{{ end }}